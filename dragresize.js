class Draggable{constructor(e,t){this.drag={prevX:0,prevY:0},this.element=e,this.isDragging=!1,this.cancel=!1,this.force=!1;let s=this;this.mouseUpEvent=()=>{s.isDragging=!1,s.cancel=!1,s.force=!1,document.body.style.cursor="default"},this.rootMouseDownEvent=()=>{s.isDragging=!0,s.element.isResizing||s.cancel&&!s.force||s.disabled||(document.body.style.cursor="move")},this.forceEvent=()=>s.force=!0,this.cancelEvent=()=>s.cancel=!0,this.forceElems=[],this.cancelElems=[],e.addEventListener("mousedown",this.rootMouseDownEvent),document.body.addEventListener("mouseup",this.mouseUpEvent),t.handle&&this.element.querySelectorAll(t.handle).forEach((e=>{s.forceElems.push(e),e.addEventListener("mousedown",s.forceEvent)})),t.cancel&&this.element.querySelectorAll(t.cancel).forEach((e=>{s.cancelElems.push(e),e.addEventListener("mousedown",s.cancelEvent)})),this.drag=function(e){!s.isDragging||s.element.isResizing||s.cancel&&!s.force||s.disabled?(s.drag.prevX=e.clientX-s.element.offsetLeft,s.drag.prevY=e.clientY-s.element.offsetTop):(s.element.style.left=e.clientX-s.drag.prevX+"px",s.element.style.top=e.clientY-s.drag.prevY+"px")},document.body.addEventListener("mousemove",this.drag)}disable(){this.disabled=!0}enable(){this.disabled=!1}destroy(){document.body.removeEventListener("mousemove",this.drag),this.cancelElems.forEach((e=>{e.removeEventListener("mousedown",self.cancelEvent)})),this.forceElems.forEach((e=>{e.removeEventListener("mousedown",self.forceEvent)})),this.element.removeEventListener("mousedown",this.rootMouseDownEvent),document.body.removeEventListener("mouseup",this.mouseUpEvent)}}class Resizable{constructor(e,t){this.resize={prevX:0,prevY:0},this.element=e,this.options=t||{triggerSize:10,edges:{bottom:!0,right:!0}};let s=this;this.mouseUpHandler=()=>s.element.isResizing=!1,document.body.addEventListener("mouseup",this.mouseUpHandler);let i=this.options.triggerSize?this.options.triggerSize:10;function n(e){s.element.isResizing=e.currentTarget.resizer,s.resize.prevX=e.clientX,s.resize.prevY=e.clientY}this.corners={topLeft:document.createElement("div"),top:document.createElement("div"),topRight:document.createElement("div"),right:document.createElement("div"),bottomRight:document.createElement("div"),bottom:document.createElement("div"),bottomLeft:document.createElement("div"),left:document.createElement("div")},this.corners.topLeft.style.cssText=`position:absolute;top: -${i}px; left:-${i}px; width:${2*i}px; height:${2*i}px; cursor: nwse-resize`,this.corners.topLeft.resizer=1,this.corners.topLeft.addEventListener("mousedown",n),this.corners.top.style.cssText=`position:absolute;top: -${i}px; left:${i}px; width:calc(100% - ${2*i}px); height:${2*i}px; cursor: ns-resize`,this.corners.top.addEventListener("mousedown",n),this.corners.top.resizer=2,this.corners.topRight.style.cssText=`position:absolute;top: -${i}px; right:-${i}px; width:${2*i}px; height:${2*i}px; cursor: nesw-resize`,this.corners.topRight.addEventListener("mousedown",n),this.corners.topRight.resizer=3,this.corners.right.style.cssText=`position:absolute;top: ${i}px; right:-${i}px; width:${2*i}px; height:calc(100% - ${2*i}px); cursor: ew-resize`,this.corners.right.addEventListener("mousedown",n),this.corners.right.resizer=4,this.corners.bottomRight.style.cssText=`position:absolute;bottom: -${i}px; right:-${i}px; width:${2*i}px; height:${2*i}px; cursor: nwse-resize`,this.corners.bottomRight.addEventListener("mousedown",n),this.corners.bottomRight.resizer=5,this.corners.bottom.style.cssText=`position:absolute;bottom: -${i}px; left:${i}px; width:calc(100% - ${2*i}px); height:${2*i}px; cursor: ns-resize`,this.corners.bottom.addEventListener("mousedown",n),this.corners.bottom.resizer=6,this.corners.bottomLeft.style.cssText=`position:absolute;bottom: -${i}px; left: -${i}px; width:${2*i}px; height:${2*i}px; cursor: nesw-resize`,this.corners.bottomLeft.addEventListener("mousedown",n),this.corners.bottomLeft.resizer=7,this.corners.left.style.cssText=`position:absolute;top: ${i}px; left: -${i}px; width:${2*i}px; height:calc(100% - ${2*i}px); cursor: ew-resize`,this.corners.left.addEventListener("mousedown",n),this.corners.left.resizer=8,t.edges.left&&(this.element.append(this.corners.left),t.edges.top&&this.element.append(this.corners.topLeft),t.edges.bottom&&this.element.append(this.corners.bottomLeft)),t.edges.bottom&&this.element.append(this.corners.bottom),t.edges.right&&(this.element.append(this.corners.right),t.edges.top&&this.element.append(this.corners.topRight),t.edges.bottom&&this.element.append(this.corners.bottomRight)),t.edges.top&&this.element.append(this.corners.top),document.body.addEventListener("mousemove",(function(e){if(e.stopImmediatePropagation(),s.element.isResizing){switch(s.element.isResizing){case 1:s.element.style.top=s.element.offsetTop+(e.clientY-s.resize.prevY)+"px",s.element.style.height=s.element.clientHeight-(e.clientY-s.resize.prevY)+"px",s.element.style.left=s.element.offsetLeft+(e.clientX-s.resize.prevX)+"px",s.element.style.width=s.element.clientWidth-(e.clientX-s.resize.prevX)+"px",document.body.style.cursor="";break;case 2:s.element.style.top=s.element.offsetTop+(e.clientY-s.resize.prevY)+"px",s.element.style.height=s.element.clientHeight-(e.clientY-s.resize.prevY)+"px";break;case 3:s.element.style.top=s.element.offsetTop+(e.clientY-s.resize.prevY)+"px",s.element.style.height=s.element.clientHeight-(e.clientY-s.resize.prevY)+"px",s.element.style.width=s.element.clientWidth+(e.clientX-s.resize.prevX)+"px";break;case 4:s.element.style.width=s.element.clientWidth+(e.clientX-s.resize.prevX)+"px";break;case 5:s.element.style.width=s.element.clientWidth+(e.clientX-s.resize.prevX)+"px",s.element.style.height=s.element.clientHeight+(e.clientY-s.resize.prevY)+"px";break;case 6:s.element.style.height=s.element.clientHeight+(e.clientY-s.resize.prevY)+"px";break;case 7:s.element.style.left=s.element.offsetLeft+(e.clientX-s.resize.prevX)+"px",s.element.style.width=s.element.clientWidth-(e.clientX-s.resize.prevX)+"px",s.element.style.height=s.element.clientHeight+(e.clientY-s.resize.prevY)+"px";break;case 8:s.element.style.width=s.element.clientWidth-(e.clientX-s.resize.prevX)+"px",s.element.style.left=s.element.offsetLeft+(e.clientX-s.resize.prevX)+"px"}s.resize.prevX=e.clientX,s.resize.prevY=e.clientY}}))}disable(){if(!this.disabled){this.disabled=!0;for(const e of Object.values(this.corners))e.style.pointerEvents="none"}}enable(){if(this.disabled){this.disabled=!1;for(const e of Object.values(this.corners))e.style.pointerEvents="initial"}}destroy(){for(const e of Object.values(this.corners))e.remove();document.removeEventListener("mouseup",this.mouseUpHandler)}}
new Resizable(document.querySelector("#youtube-iframe"), {edges: {top: true,left: true,bottom: true,right: true,},});
